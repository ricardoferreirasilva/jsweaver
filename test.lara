import weaver.WeaverJps;
import obfuscation.Flatted;
import obfuscation.OpaquePredicates;
aspectdef OpaquePred

	select file end
	apply
		println($file);
		addOpaquePredicates($file,3);
		println(predicates.length);
		
	end

end
aspectdef FunctionRename

	select function end
	apply
		println($function.code);
		var result = obfuscate($function);
		var body = $function.field("body");
		body.insert("replace",result);
		println("Obfuscation finished!");
	end

end

aspectdef FileTest

	select file end
	apply
		var result = controlFlowFlattening($file);
		$file.insert("replace",result);
	end

end